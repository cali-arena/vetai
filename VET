# ğŸ¾ VetDiagnosisAI

**Sistema Inteligente de Apoio ao DiagnÃ³stico VeterinÃ¡rio**

AplicaÃ§Ã£o web completa em Python/Streamlit para anÃ¡lise de exames laboratoriais e sintomas de pets (cÃ£es, gatos), com prediÃ§Ã£o de diagnÃ³sticos usando Machine Learning.

---

## ğŸ“‹ Funcionalidades

### ğŸ“Š VisÃ£o Geral
- Cards com mÃ©tricas principais (total de casos, distribuiÃ§Ã£o de espÃ©cies, top diagnÃ³sticos)
- Taxa de positividade por doenÃ§a
- Alertas de valores crÃ­ticos em exames
- GrÃ¡ficos temporais (quando hÃ¡ datas)

### ğŸ§ª LaboratÃ³rio & Sintomas (EDA)
- AnÃ¡lise exploratÃ³ria interativa com boxplots, histogramas, scatter plots
- Heatmap de correlaÃ§Ã£o entre variÃ¡veis
- Filtros por espÃ©cie, raÃ§a, sexo, faixa etÃ¡ria e diagnÃ³stico
- Destaque de outliers e valores fora da faixa de referÃªncia

### ğŸ¤– Treinar Modelo
- Pipeline completo de ML com prÃ©-processamento automÃ¡tico
- SeleÃ§Ã£o de features por importÃ¢ncia mÃºtua
- Balanceamento de classes (class_weight='balanced')
- Grid search de hiperparÃ¢metros
- AvaliaÃ§Ã£o com ROC AUC, F1, Precision, Recall
- Matriz de confusÃ£o estratificada por espÃ©cie
- Salvamento automÃ¡tico de modelo e preprocessadores

### ğŸ” PrediÃ§Ã£o
- FormulÃ¡rio para entrada manual de sintomas e exames
- Upload de arquivo CSV/XLSX para prediÃ§Ã£o em lote
- Top-N diagnÃ³sticos provÃ¡veis com probabilidades
- Explicabilidade com SHAP (features mais influentes)
- Alertas automÃ¡ticos para valores fora de referÃªncia

### ğŸ“¥ Upload de Dados
- Suporte a CSV e XLSX (mÃºltiplas abas)
- Mapeamento interativo de colunas
- ValidaÃ§Ã£o de schema
- Merge entre mÃºltiplos arquivos

### ğŸ§  Insights & Regras
- GeraÃ§Ã£o automÃ¡tica de insights clÃ­nicos
- HipÃ³teses baseadas em correlaÃ§Ãµes
- SugestÃµes de prÃ³ximos passos diagnÃ³sticos
- **âš ï¸ Disclaimers claros: ferramenta educacional, nÃ£o substitui julgamento clÃ­nico**

---

## ğŸš€ Como Executar

### 1. InstalaÃ§Ã£o
```bash
# Clone ou baixe o projeto
cd VET

# Instale as dependÃªncias
pip install -r requirements.txt
```

### 2. ExecuÃ§Ã£o
```bash
python -m streamlit run app.py
```

O aplicativo abrirÃ¡ automaticamente em `http://localhost:8501`

---

## ğŸ“‚ Estrutura do Projeto

```
VetDiagnosisAI/
â”œâ”€â”€ app.py                                    # AplicaÃ§Ã£o principal
â”œâ”€â”€ pages/                                     # PÃ¡ginas Streamlit
â”‚   â”œâ”€â”€ 1_ğŸ“Š_VisÃ£o_Geral.py
â”‚   â”œâ”€â”€ 2_ğŸ§ª_LaboratÃ³rio_&_Sintomas_(EDA).py
â”‚   â”œâ”€â”€ 3_ğŸ¤–_Treinar_Modelo.py
â”‚   â”œâ”€â”€ 4_ğŸ”_PrediÃ§Ã£o.py
â”‚   â”œâ”€â”€ 5_ğŸ“¥_Upload_de_Dados.py
â”‚   â””â”€â”€ 6_ğŸ§ _Insights_&_Regras.py
â”œâ”€â”€ vetlib/                                    # Biblioteca de funÃ§Ãµes
â”‚   â”œâ”€â”€ data_io.py                            # I/O e validaÃ§Ã£o de dados
â”‚   â”œâ”€â”€ preprocessing.py                       # PrÃ©-processamento
â”‚   â”œâ”€â”€ modeling.py                            # Modelagem ML
â”‚   â”œâ”€â”€ explain.py                             # Explicabilidade (SHAP)
â”‚   â””â”€â”€ insights.py                            # GeraÃ§Ã£o de insights
â”œâ”€â”€ data/                                      # Datasets
â”‚   â””â”€â”€ exemplo_vet.csv                        # Dataset sintÃ©tico de exemplo
â”œâ”€â”€ models/                                    # Modelos treinados (.pkl)
â”œâ”€â”€ assets/                                    # Recursos visuais
â”œâ”€â”€ requirements.txt                           # DependÃªncias Python
â””â”€â”€ README.md                                  # Este arquivo
```

---

## ğŸ“Š Estrutura de Dados

### Colunas Esperadas

**IdentificaÃ§Ã£o:**
- `id`: ID Ãºnico do caso
- `data`: Data do exame (opcional)
- `especie`: Canina, Felina, Equina
- `raca`: RaÃ§a do animal
- `idade_anos`: Idade em anos
- `sexo`: M (Macho) ou F (FÃªmea)

**Sintomas (binÃ¡rios 0/1 ou texto):**
- `febre`, `apatia`, `perda_peso`, `vomito`, `diarreia`
- `tosse`, `letargia`, `feridas_cutaneas`, `poliuria`, `polidipsia`

**Exames Laboratoriais (numÃ©ricos):**
- `hemoglobina`, `hematocrito`, `leucocitos`, `plaquetas`
- `glicose`, `ureia`, `creatinina`
- `alt`, `ast`, `fosfatase_alcalina`
- `proteinas_totais`, `albumina`, `colesterol`, `triglicerideos`

**Alvo:**
- `diagnostico`: DoenÃ§a/condiÃ§Ã£o identificada

### Faixas de ReferÃªncia por EspÃ©cie

#### Canina
- Creatinina: 0.5â€“1.6 mg/dL
- Ureia: 20â€“50 mg/dL
- Glicose: 70â€“120 mg/dL
- Hemoglobina: 12â€“18 g/dL
- ALT: 10â€“100 U/L

#### Felina
- Creatinina: 0.8â€“2.0 mg/dL
- Ureia: 30â€“60 mg/dL
- Glicose: 70â€“150 mg/dL
- Hemoglobina: 9â€“15 g/dL
- ALT: 10â€“80 U/L

---

## ğŸ”— Datasets PÃºblicos Sugeridos

O aplicativo inclui links para datasets veterinÃ¡rios pÃºblicos:

1. **Kaggle â€“ Veterinary Disease Detection**
   - Sintomas â†’ DiagnÃ³stico
   - https://www.kaggle.com/datasets/taruntiwarihp/veterinary-disease-detection

2. **UCI â€“ Horse Colic**
   - Dados de cÃ³lica em cavalos (excelente para ML tabular)
   - https://archive.ics.uci.edu/dataset/46/horse+colic

3. **Kaggle â€“ Animal Blood Samples**
   - Amostras de sangue de animais (ideal para EDA e faixas normais)
   - https://www.kaggle.com/datasets/andrewmvd/animal-blood-samples

**âš ï¸ Importante:** Verifique as licenÃ§as e termos de uso de cada dataset.

---

## ğŸ“– Guia de Uso

### Upload de Dados
1. VÃ¡ para "ğŸ“¥ Upload de Dados"
2. FaÃ§a upload de arquivo CSV ou XLSX
3. Mapeie as colunas do seu arquivo para o schema esperado
4. Valide e salve

### AnÃ¡lise ExploratÃ³ria
1. Acesse "ğŸ§ª LaboratÃ³rio & Sintomas (EDA)"
2. Use os filtros laterais (espÃ©cie, raÃ§a, diagnÃ³stico)
3. Explore distribuiÃ§Ãµes e correlaÃ§Ãµes
4. Identifique valores anormais

### Treinamento
1. VÃ¡ para "ğŸ¤– Treinar Modelo"
2. Selecione o algoritmo (Logistic Regression, Random Forest, LightGBM)
3. Configure hiperparÃ¢metros (ou use busca em grid)
4. Treine o modelo e avalie mÃ©tricas
5. Salve o modelo treinado

### PrediÃ§Ã£o
1. Acesse "ğŸ” PrediÃ§Ã£o"
2. Preencha o formulÃ¡rio OU faÃ§a upload de arquivo
3. Visualize top diagnÃ³sticos provÃ¡veis
4. Analise explicabilidade (SHAP)
5. Exporte resultados

---

## âš ï¸ Avisos Legais

**Este software Ã© uma ferramenta educacional e de pesquisa.**

- âŒ **NÃƒO substitui** o julgamento clÃ­nico de um mÃ©dico veterinÃ¡rio
- âŒ **NÃƒO deve ser usado** como Ãºnica base para decisÃµes terapÃªuticas
- âœ… **Deve ser usado** como apoio Ã  decisÃ£o clÃ­nica por profissionais qualificados
- âœ… **Ideal para** ensino, pesquisa e anÃ¡lise exploratÃ³ria de dados

**Sempre consulte um mÃ©dico veterinÃ¡rio licenciado para diagnÃ³stico e tratamento.**

---

## ğŸ› ï¸ Tecnologias

- **Frontend:** Streamlit
- **ML:** scikit-learn, LightGBM, XGBoost
- **Explicabilidade:** SHAP
- **VisualizaÃ§Ã£o:** Plotly, Matplotlib, Seaborn
- **Data:** Pandas, NumPy, OpenPyXL

---

## ğŸ“§ Suporte

Para dÃºvidas ou sugestÃµes, abra uma issue no repositÃ³rio do projeto.

---

## ğŸ“„ LicenÃ§a

Este projeto Ã© fornecido "como estÃ¡" para fins educacionais.

